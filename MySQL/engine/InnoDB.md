# InnoDB 存储引擎

该存储引擎提供了具有提交、回滚和崩溃恢复能力的事务安全。但是对比 MyISAM 引擎，写的处理效率会差一些，并且会占用更多的磁盘空间以保留数据和索引。

InnoDB 存储引擎的特点：支持自动增长列，支持外键约束，支持事务。

InnoDB 中，创建的表的表结构存储在*.frm*文件中。数据和索引存储在 innodb_data_home_dir 和 innodb_data_file_path 定义的表空间中

InnoDB：支持事务和行级锁，是 innodb 的最大特色。行锁大幅度提高了多用户并发操作的新能。

- 默认事务型引擎，最重要最广泛的存储引擎，性能非常优秀。
- 数据存储在共享表空间，可以通过配置分开。也就是多个表和索引都存储在一个表空间中，可以通过配置文件改变此配置。
- 对主键查询的性能高于其他类型的存储引擎。
- 内部做了很多优化，从磁盘读取数据时会自动构建 hash 索引，插入数据时自动构建插入缓冲区。
- 通过一些机制和工具支持真正的热备份。
- 支持崩溃后的安全恢复。
- 支持行级锁。
- 支持外键。

InnoDB 不创建目录，MySQL 在 MySQL 数据目录下面创建一个名为 ibdata1 的 10MB 大小的自动扩展数据文件和两个日志文件 ib_logfile0、ib_logfile1。

## 性能

- 磁盘 I/O:
  - 可以使用 SSD 提升性能
  - innodb_io_capacity 加大每秒刷新脏页的数量。
- 内存
  buffer_pool 缓存池，innodb_buffer_pool_size 尽可能最大，
