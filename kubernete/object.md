# 操作对象

## 基础的操作对象

主要是指资源抽象对象

- 容器组（Pod）：Kubernetes 中最小的资源单位。由位于同一节点上若干容器组成，彼此共享网络命名空间和存储卷（Volume）。Pod 是 Kubernetes 中进行管理的最小资源单位，是最为基础的概念。跟容器类似，Pod 是短暂的，随时可变的，通常不带有状态。一般每个 Pod 中除了应用容器外，还包括一个初始的 pause 容器，完成网络和存储空间的初始化；

- 服务（Service）：对外提供某个特定功能的一组 Pod（可通过标签来选择）和所关联的访问配置。由于 Pod 的地址是不同的，而且可能改变，直接访问 Pod 将无法获得稳定的业务。Kubernetes 通过服务提供唯一固定的访问地址（如 IP 地址或者域名），不随后面 Pod 改变而变化。用户无须关心具体的 Pod 信息；

- 存储卷（Volume）：存储卷类似 Docker 中的概念，提供数据的持久化存储（如 Pod 重启后），并支持更高级的生命周期管理和参数指定功能，支持多种本地和云存储类型；

- 命名空间（Namespace）：Kubernetes 通过命名空间来实现虚拟化，将同一组物理资源虚拟为不同的抽象集群，避免不同租户的资源发生命名冲突，另外可以进行资源限额。

## 控制器抽象对象

- 副本集（ReplicaSet）：旧版本中叫做复制控制器（Replication Controller）。副本集是一个基于 Pod 的抽象。使用它可以让集群中始终维持某个 Pod 的指定副本数的健康实例。副本集中的 Pod 相互并无差异，可以彼此替换。由于操作相对底层，一般不推荐直接使用；

- 部署（Deployment）：自 1.2.0 版本开始引入。比副本集更高级的抽象，可以管理 Pod 或副本集，并且支持升级操作。部署控制器可以提供提供比副本集更方便的操作，推荐使用；

- 状态集（StatefulSet）：管理带有状态的应用。相比部署控制器，状态集可以为 Pod 分配独一无二的身份，确保在重新调配等操作时也不会相互替换。自 1.9 版本开始正式支持；

- Daemon 集（DaemonSet）：确保节点上肯定运行某个 Pod，一般用来采集日志（如 logstash）、监控节点（如 collectd）或提供存储（如 glusterd）使用；

- 任务（Job）：适用于短期处理场景。任务将创建若干 Pod，并确保给定数目的 Pod 最终正常退出（完成指定的处理）；

- 横向 Pod 扩展器（Horizontal Pod Autoscaler，HPA）：类似云里面的自动扩展组，根据 Pod 的使用率（典型如 CPU）自动调整一个部署里面 Pod 的个数，保障服务可用性；

- 入口控制器（Ingress Controller）：定义外部访问集群中资源的一组规则，用来提供七层代理和负载均衡服务。

## 管理资源相关的辅助概念

- 标签（Label）：键值对，可以标记到资源对象上，用来对资源进行分类和筛选；

- 选择器（Selector）：基于标签概念的一个正则表达式，可通过标签来筛选出一组资源；

- 注解（Annotation）：键值对，可以存放大量任意数据，一般用来添加对资源对象的详细说明，可供其他工具处理。

- 秘密数据（Secret）：存放敏感数据，例如用户认证的口令等；

- 名字（Name）：用户提供给资源的别名，同类资源不能重名；

- 持久化存储（PersistentVolume）：确保数据不会丢失；

- 资源限额（Resource Quotas）：用来限制某个命名空间下对资源的使用，开始逐渐提供多租户支持；

- 安全上下文（Security Context）：应用到容器上的系统安全配置，包括 uid、gid、capabilities、SELinux 角色等；

- 服务账号（Service Accounts）：操作资源的用户账号。
