# 魔术方法

曾经记得鸟哥 Laruence 提过不建议使用”魔术方法”。

## `__construct()`

## `__call()`

调用类中一个不存在或者不可见的方法时执行类中的`__call()`方法。

### `__callStatic()`

调用类中一个不存在或者不可见的静态方法时执行类中的`__callStatic()`方法。

## `__set()`

在设置类中不在的的成员变量，调用该方法。

## `__get()`

在引用类中不在的的成员变量，调用该方法。

## `__sleep()`和`__wakeup()`

`__sleep()`方法在序列化一个实例时调用，`__wakeup()`反序列化时调用。

## `__toString()`

把类的实例转化成字符串。

## 建议

### 魔术方法真的性能比较差吗？

答：除了使用`__construct` 之外，这里使用其他的魔法方法的时间大致慢 10 微秒以内。

### PHP7 里使用魔术方法的性能还是存在问题吗？

答：在 PHP7 中使用与不使用魔术方法之间的差异和在 PHP5.6 中近乎一致。

### 我们应该如何合理的使用魔术方法？

答：通过整个测试我们可以看出使不使用魔法方法这之间的执行时间差异大致都是在 10 微秒以内的，所以如果魔法方法可以很好的节省我们的开发成本和优化我们的代码结构，我们应该可以考虑牺牲掉这不到 10 微秒。而**construct 是要快的，所以使用**construct 应该没什么异议

## 参考

[PHP 魔法函数性能分析](http://tigerb.cn/2017/03/04/php-magic-function/)
