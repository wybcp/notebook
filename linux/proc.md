# proc

在 GUN/Linux 操作系统中， /proc 是一个位于内存中的伪文件系统 (in-memory pseudo-file system)。 该目录下保存的不是真正的文件和目录，而是一些“运行时”信息，如系统内存、磁盘 io、设备挂载信息和硬件配置信息等。 proc 目录是一个控制中心，用户可以通过更改其中某些文件来改变内核的运行状态 。/proc 也是内核提供给我们的查询中心，用户可以通过这些文件查看有关系统硬件及当前正在运行进程的信息。

使用 ls 命令查看 /proc 目录下的文件，会发现该目录下的绝大部分文件大小为 O。

proc 目录中包含了若干文件以及多个名字是数字的目录。 proc 目录下的文件保存的是 整个系统的信息。 名字是数字的 目录保存的是进程的信息。 目录的名字正是进程的 id，因此， 我们可以通过读取 proc 目录下有多少以数字命名的目录来判断当前系统中有多少进程。

## 监控信息

- /proc/loadavg:保存了系统负载的平均值，其前三列分别表示最近 1 分钟、 5 分钟及 15 分钟的平均负载，反映了当前系统的繁忙情况;
- /proc/meminfo : 一般由 free 命令统计当前内存使用信息，可以使用文件查看命令直接读取此文件，其内容显示为两列，前者为统计属性，后者为对应的值 ;
- /proc/diskstats:磁盘设备的磁盘 I/O 统计信息列表 ;
- /proc/net/dev :网络流入流出的统计信息，包括接收包的数量、发送包的数量，发送数据包时的错误和冲突情况等。

## 系统信息

- /proc/filesystem：目录查看当前系统中支持的文件系统`cat /proc/filesystems`
- /proc/cpuinfo 文件可以查看 cpu 的详细信息。`cat /proc/cpuinfo`
- /proc/cmdline :在启动时传递至内核的启动参数，通常由 grub 启动管理工具进行传递
- /proc/devices:系统已经加载的所有块设备和字符设备的信息;
- /proc/mounts:系统中当前挂载的所有文件系统;
- /proc/partitions :块设备每个分区的主设备号(major)和次设备号(minor)等信息，同时包括每个分区所包含的块( block)数目;
- /proc/uptime:系统上次启动以来的运行时间;
- /proc/version:当前系统运行的内核版本号;
- /proe/vmstat:当前系统虚拟内存的统计数据 。

## 进程目录

proe 目录下有很多名字为数字的目录，目录的名称与进程的 id 一一对应，可以通过这些目录查看进程相关的信息。

进程目录下包含了较多的文件和目录，比较常用的有:

- emdline:与 /proe/emdline 文件类似，保存了当前进程的启动命令;
  `cat cmdline`

- cwd: cwd 是一个符号链接，指向进程的运行目录;
- exe : exe 是一个软链接，指向启动进程的可执行文件，通过/proe/[pid]/exe 可以启动当前进程的一个拷贝;
- environ :包含与进程相关联的环境变量，变量名用大写字母表示，其值用小写字母 表示;`cat environ`

- fd:fd 目录包含了进程打开的每一个文件的文件描述符(file deseriptor),描述符是指向实际文件的一个符号链接;可以通过“目录下的文件个数统计当前进程打开的文件句柄数。
- limits:保存了进程使用资掘的限制信息，包括软限制 、 硬限制以及取值的单位;
- task : task 目录下包含了当前进程所运行的每一个线程的相关信息，每个线程的相 关信息文件均保存在一个由线程号( tid)命名的目录中 。
