# [哈希算法](https://time.geekbang.org/column/article/65312)

将任意长度的二进制值串映射为固定长度的二进制值串，这个映射的规则就是哈希算法，而通过原始数据映射之后得到的二进制值串就是哈希值。

- 从哈希值不能反向推导出原始数据，单向哈希算法；
- 对输入数据非常敏感，哪怕原始数据只修改了一个 Bit，最后得到的哈希值也大不相同；
- 散列冲突的概率要很小，对于不同的原始数据，哈希值相同的概率非常小；
- 哈希算法的执行效率要尽量高效，针对较长的文本，也能快速地计算出哈希值。

## 常用哈希算法

### SHA

SHA（Secure Hash Algorithm，安全散列算法）

### MD5

MD5（MD5 Message-Digest Algorithm，MD5 消息摘要算法
MD5 的哈希值是 128 位的 Bit 长度

### DES（Data Encryption Standard，数据加密标准）

### AES（Advanced Encryption Standard，高级加密标准）

## 应用

### 安全加密

### 唯一标识

图库，图片

哈希算法可以对大数据做信息摘要，通过一个较短的二进制编码来表示很大的数据。

### 数据校验

BT 下载文件校验：通过哈希算法，对 100 个文件块分别取哈希值，并且保存在种子文件中。哈希算法有一个特点，对数据很敏感。只要文件块的内容有一丁点儿的改变，最后计算出的哈希值就会完全不同。所以，当文件块下载完成之后，我们可以通过相同的哈希算法，对下载好的文件块逐一求哈希值，然后跟种子文件中保存的哈希值比对。如果不同，说明这个文件块不完整或者被篡改了，需要再重新从其他宿主机器上下载这个文件块。

### 散列函数

### 负载均衡

通过哈希算法，对客户端 IP 地址或者会话 ID 计算哈希值，将取得的哈希值与服务器列表的大小进行取模运算，最终得到的值就是应该被路由到的服务器编号。 这样，我们就可以把同一个 IP 过来的所有请求，都路由到同一个后端服务器上。

### 数据分片

通过哈希算法对数据取哈希值，然后对机器个数取模，这个最终值就是应该存储的缓存机器编号。

### 分布式存储

[一致性哈希算法](https://www.sohu.com/a/158141377_479559)

假设我们有 k 个机器，数据的哈希值的范围是 [0, MAX]。我们将整个范围划分成 m 个小区间（m 远大于 k），每个机器负责 m/k 个小区间。当有新机器加入的时候，我们就将某几个小区间的数据，从原来的机器中搬移到新的机器中。这样，既不用全部重新哈希、搬移数据，也保持了各个机器上数据数量的均衡。
